<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>Untitled Document</title>
<script>
var fsum,nsum
fsum=0
nsum=0
opt=0
alu='0'
function num(getvalue)
{
	if((opt=='1' || opt=='2' || opt=='3' || opt=='4') && !vreturn())
	{
		calcform.calculator.value=''
	}
	var mynum,alu
	if(isNaN(getvalue)==false)
	{
	mynum=eval(getvalue)
	if(calcform.calculator.value==0 && calcform.calculator.value.charAt([1])!='.')
	calcform.calculator.value=''
	calcform.calculator.value+=mynum
	
	}
	
	
}
function mydot()
{
	var mynum
	if(calcform.calculator.value.indexOf('.')<0)
	calcform.calculator.value+='.'
}
function saf()
{
	calcform.calculator.value=0
	fsum=0
	nsum=0
	memecall=0
}
function forzero()
{
	if(calcform.calculator.value.charAt([1])=='.')
	calcform.calculator.value+=0
	else if(isNaN(calcform.calculator.value)==false && calcform.calculator.value!=0)
	calcform.calculator.value+=0
	else
	{
	calcform.calculator.value=0
	//document.getElementById('calculator').style.color='gray'
	}
	
}
function mysign(Sign)
{
	
	if(Sign=='+')
	{
	opt='1'
	alu='1'	
	if(fsum!=0 && opt!=0)
	fsum=eval(calcform.calculator.value)+eval(fsum)
	else
	fsum=calcform.calculator.value
	
	}
	else if(Sign=='-')
	{
	opt='2'
	alu='2'
	if(fsum!=0)
	fsum=eval(fsum)-eval(calcform.calculator.value)
	else
	fsum=calcform.calculator.value
	}
	else if(Sign=='*')
	{
	opt='3'
	alu='3'
	if(fsum!=0)
	fsum=eval(calcform.calculator.value)*eval(fsum)
	else
	fsum=eval(calcform.calculator.value)
	}
	else if(Sign=='/')
	{
	opt='4'
	alu='4'
	if(fsum!=0)
	fsum=eval(fsum)/eval(calcform.calculator.value)
	else
	fsum=calcform.calculator.value
	}
	
	calcform.calculator.value=fsum
}
function vreturn()
{
	if(opt=='1' || alu=='1')
	{
		nsum=calcform.calculator.value
		calcform.calculator.value=eval(fsum)+eval(nsum)
		opt='0'
	}
	else if(opt=='2' || alu=='2')
	{
		nsum=calcform.calculator.value
		calcform.calculator.value=eval(fsum)-eval(nsum)
		opt='0'
	}
	else if(opt=='3' || alu=='3')
	{
		nsum=calcform.calculator.value
		calcform.calculator.value=eval(fsum)*eval(nsum)
		opt='0'
	}
	else if(opt=='4' || alu=='4')
	{
		nsum=calcform.calculator.value
		calcform.calculator.value=eval(fsum)/eval(nsum)
		opt='0'
	}
}
function rund()
{
	var a=eval(calcform.calculator.value)
	if(a!=0)
	{
	calcform.calculator.value=a.toFixed(2)
	}
}
var merecall,mmin,mplus
memecall=0

function memory(call)
{
	if(call=='mr')
	{
	calcform.calculator.value=memecall
	opt=1
	}
	else if(call=='mi')
	{
	memecall-=eval(calcform.calculator.value)
	opt=1
	}
	else if(call=='mp')
	{
	memecall+=eval(calcform.calculator.value)
	opt=1
	}
	
}
function myper()
{
	if(alu=='3')
	{
		var d,e
		d=calcform.calculator.value
		e=fsum/eval(d)
		calcform.calculator.value=e.toFixed(2)

	
	}
}
function myroot()
{
}

</script>
</head>

<body>
<form id="calcform" name="calcform" method="post" action="">
  <table width="200" border="0" cellspacing="0" cellpadding="4">
    <tr>
      <td colspan="5"><label>
        <input name="calculator" type="text" id="calculator" style="height:30px; font-family:arial; font-size:18px; text-align:left" value="0" size="25" maxlength="11" readonly="readonly" />
      </label></td>
    </tr>
    <tr>
      <td><label>
        <input type="button" name="Sqrt" id="Sqrt" value="√" style="width:40px; height:40px" />
      </label></td>
      <td colspan="2"><input type="button" name="Round" id="Round" value="Round" style="width:100px; height:40px" onclick="rund()" /></td>
      <td><input type="button" name="ce" id="ce" value="CE" style="width:40px; height:40px" /></td>
      <td><input type="button" name="c" id="c" value="C" style="width:40px; height:40px" onclick="saf()" /></td>
    </tr>
    <tr>
      <td><input type="button" name="per" id="per" value="%" style="width:40px; height:40px" onclick="myper()"/></td>
      <td><input type="button" name="seven" id="seven" value="7" style="width:40px; height:40px"  onclick="num('7')"  /></td>
      <td><input type="button" name="eight" id="eight" value="8" style="width:40px; height:40px"  onclick="num('8')"  /></td>
      <td><input type="button" name="nine" id="nine" value="9" style="width:40px; height:40px"  onclick="num('9')"  /></td>
      <td><input type="button" name="division" id="division" value="¸" style="width:40px; height:40px; font-family:symbol;" onclick="mysign('/')" /></td>
    </tr>
    <tr>
      <td><input type="button" name="mr" id="mr" value="MR" style="width:40px; height:40px" onclick="memory('mr')" /></td>
      <td><input type="button" name="four" id="four" value="4" style="width:40px; height:40px"  onclick="num('4')"  /></td>
      <td><input type="button" name="five" id="five" value="5" style="width:40px; height:40px"  onclick="num('5')"  /></td>
      <td><input type="button" name="six" id="six" value="6" style="width:40px; height:40px"  onclick="num('6')"  /></td>
      <td><input type="button" name="multiply" id="multiply" value="x" style="width:40px; height:40px" onclick="mysign('*')" /></td>
    </tr>
    <tr>
      <td><input type="button" name="min_m" id="min_m" value="-M" style="width:40px; height:40px" onclick="memory('mi')" /></td>
      <td><input type="button" name="one" id="one" value="1" style="width:40px; height:40px" onclick="num('1')" /></td>
      <td><input type="button" name="two" id="two" value="2" style="width:40px; height:40px" onclick="num('2')" /></td>
      <td><input type="button" name="three" id="three" value="3" style="width:40px; height:40px"  onclick="num('3')" /></td>
      <td><input type="button" name="minus" id="minus" value="-" style="width:40px; height:40px" onclick="mysign('-')" /></td>
    </tr>
    <tr>
      <td><input type="button" name="plus_M" id="plus_M" value="+M" style="width:40px; height:40px" onclick="memory('mp')" /></td>
      <td><input type="button" name="zero" id="zero" value="0" style="width:40px; height:40px"  onclick="forzero()"  /></td>
      <td><input type="button" name="dot" id="dot" value="." style="width:40px; height:40px"  onclick="mydot()" /></td>
      <td><input type="button" name="equal" id="equal" value="=" style="width:40px; height:40px" onclick="vreturn()" /></td>
      <td><input type="button" name="plus" id="plus" value="+" style="width:40px; height:40px" onclick="mysign('+')" /></td>
    </tr>
  </table>
</form>
</body>
</html>
